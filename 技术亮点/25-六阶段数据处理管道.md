# 25 - å…­é˜¶æ®µæ•°æ®å¤„ç†ç®¡é“ ğŸ”§

> **éš¾åº¦**: â­â­â­â­ | **ä»·å€¼**: ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ | **åˆ›æ–°åº¦**: â­â­â­â­â­

---

## ğŸ“Œ æŠ€æœ¯æ¦‚è¿°

### æ ¸å¿ƒè®¾è®¡

æˆ‘ä»¬è®¾è®¡äº†å®Œæ•´çš„**å…­é˜¶æ®µæ•°æ®å¤„ç†ç®¡é“**ï¼Œå°†è¿è¥å•†ä¿¡ä»¤æ•°æ®ä»åŸå§‹çŠ¶æ€è½¬æ¢ä¸ºå¯ç”¨çš„æ™ºèƒ½ä½“çŸ¥è¯†åº“ï¼š

| é˜¶æ®µ | åŠŸèƒ½ | è¾“å‡º |
|-----|------|-----|
| 1ï¸âƒ£ æ•°æ®è·å– | è·å–å¤–éƒ¨æ•°æ® | JSONæ•°æ® |
| 2ï¸âƒ£ è´¨é‡åˆ†æ | æ•°æ®è´¨é‡æŠ¥å‘Š | è´¨é‡ç»Ÿè®¡ |
| 3ï¸âƒ£ åœ°ç†æ˜ å°„ | åŸºç«™â†’åæ ‡ | å¢å¼ºæ•°æ®é›† |
| 4ï¸âƒ£ æ•°æ®å¢å¼º | ç”¨æˆ·åˆ†ç±»+è¯„åˆ† | æœ€ç»ˆå¢å¼ºæ•°æ® |
| 5ï¸âƒ£ çŸ¥è¯†åº“æ„å»º | æ•´åˆæ‰€æœ‰æ•°æ® | çŸ¥è¯†åº“JSON |
| 6ï¸âƒ£ åˆ†ææŠ¥å‘Š | ç”Ÿæˆå¯è§†åŒ– | æŠ¥å‘Š+å›¾è¡¨ |

### æŠ€æœ¯æˆæœ

| æŒ‡æ ‡ | æ•°å€¼ |
|-----|-----|
| å¤„ç†è®°å½•æ•° | 67,487æ¡ |
| å¤„ç†é˜¶æ®µ | 6ä¸ªç‹¬ç«‹é˜¶æ®µ |
| å¯é…ç½®æ€§ | æ¯é˜¶æ®µå¯ç‹¬ç«‹å¯ç”¨/ç¦ç”¨ |
| è¾“å‡ºäº§ç‰© | æ•°æ®é›†+çŸ¥è¯†åº“+æŠ¥å‘Š |

---

## ğŸ” æŠ€æœ¯åŸç†

### ç®¡é“æ¶æ„

```
åŸå§‹ä¿¡ä»¤æ•°æ® (67,487æ¡)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ1: å¤–éƒ¨æ•°æ®è·å–                     â”‚
â”‚  fetch_external_data()                  â”‚
â”‚  è¾“å‡º: external_data.json               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ2: æ•°æ®è´¨é‡åˆ†æ                     â”‚
â”‚  analyze_data_quality()                 â”‚
â”‚  è¾“å‡º: data_quality_report.json         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ3: åœ°ç†ä¿¡æ¯æ˜ å°„                     â”‚
â”‚  perform_geographic_mapping()           â”‚
â”‚  è¾“å‡º: geographic_enhanced_data.csv      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ4: æ•°æ®å¢å¼º                         â”‚
â”‚  enhance_data()                         â”‚
â”‚  è¾“å‡º: final_enhanced_signals.csv       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ5: çŸ¥è¯†åº“æ„å»º                       â”‚
â”‚  build_knowledge_base()                 â”‚
â”‚  è¾“å‡º: tourism_knowledge_base.json      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ6: åˆ†ææŠ¥å‘Šç”Ÿæˆ                     â”‚
â”‚  generate_final_report()                â”‚
â”‚  è¾“å‡º: final_pipeline_report.json       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é…ç½®åŒ–è®¾è®¡

```python
def _default_config(self) -> dict:
    """é»˜è®¤é…ç½®"""
    return {
        'enable_data_fetching': True,        # å¯ç”¨æ•°æ®è·å–
        'enable_quality_analysis': True,     # å¯ç”¨è´¨é‡åˆ†æ
        'enable_geographic_mapping': True,   # å¯ç”¨åœ°ç†æ˜ å°„
        'enable_data_enhancement': True,     # å¯ç”¨æ•°æ®å¢å¼º
        'enable_visualization': True,        # å¯ç”¨å¯è§†åŒ–
        'save_intermediate_results': True    # ä¿å­˜ä¸­é—´ç»“æœ
    }
```

---

## ğŸ’¡ é¡¹ç›®åº”ç”¨

### ä»£ç ä½ç½®

**ä¸»æ–‡ä»¶**: [pipelines/main_data_pipeline.py](../../pipelines/main_data_pipeline.py)

### å®ç°ç»†èŠ‚

#### 1. ç®¡é“å…¥å£

```python
# pipelines/main_data_pipeline.py:74-127
def run_full_pipeline(self) -> dict:
    """è¿è¡Œå®Œæ•´çš„æ•°æ®å¤„ç†ç®¡é“"""
    pipeline_start_time = time.time()
    logger.info("ğŸš€ å¯åŠ¨å±±è¥¿æ–‡æ—…æ•°æ®å¤„ç†ç®¡é“...")

    try:
        # ç¬¬ä¸€é˜¶æ®µï¼šå¤–éƒ¨æ•°æ®è·å–
        if self.config['enable_data_fetching']:
            logger.info("\nğŸ“¡ ç¬¬ä¸€é˜¶æ®µï¼šè·å–å¤–éƒ¨æ•°æ®...")
            external_data = self.fetch_external_data()
            self.processing_results['external_data'] = external_data

        # ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®è´¨é‡åˆ†æ
        if self.config['enable_quality_analysis']:
            logger.info("\nğŸ” ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®è´¨é‡åˆ†æ...")
            quality_analysis = self.analyze_data_quality()
            self.processing_results['quality_analysis'] = quality_analysis

        # ç¬¬ä¸‰é˜¶æ®µï¼šåœ°ç†ä¿¡æ¯æ˜ å°„
        if self.config['enable_geographic_mapping']:
            logger.info("\nğŸ—ºï¸ ç¬¬ä¸‰é˜¶æ®µï¼šåœ°ç†ä¿¡æ¯æ˜ å°„...")
            geographic_mapping = self.perform_geographic_mapping()
            self.processing_results['geographic_mapping'] = geographic_mapping

        # ç¬¬å››é˜¶æ®µï¼šæ•°æ®å¢å¼º
        if self.config['enable_data_enhancement']:
            logger.info("\nâœ¨ ç¬¬å››é˜¶æ®µï¼šæ•°æ®å¢å¼º...")
            enhanced_data = self.enhance_data()
            self.processing_results['enhanced_data'] = enhanced_data

        # ç¬¬äº”é˜¶æ®µï¼šçŸ¥è¯†åº“æ„å»º
        logger.info("\nğŸ“š ç¬¬äº”é˜¶æ®µï¼šæ„å»ºçŸ¥è¯†åº“...")
        knowledge_base = self.build_knowledge_base()
        self.processing_results['knowledge_base'] = knowledge_base

        # ç¬¬å…­é˜¶æ®µï¼šç”ŸæˆæŠ¥å‘Š
        logger.info("\nğŸ“Š ç¬¬å…­é˜¶æ®µï¼šç”Ÿæˆåˆ†ææŠ¥å‘Š...")
        final_report = self.generate_final_report()
        self.processing_results['final_report'] = final_report

        # å¯è§†åŒ–
        if self.config['enable_visualization']:
            logger.info("\nğŸ“ˆ ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š...")
            self.generate_visualizations()

        pipeline_duration = time.time() - pipeline_start_time
        logger.info(f"\nâœ… æ•°æ®å¤„ç†ç®¡é“å®Œæˆ! æ€»è€—æ—¶: {pipeline_duration:.2f}ç§’")

        return self.processing_results

    except Exception as e:
        logger.error(f"âŒ ç®¡é“æ‰§è¡Œå¤±è´¥: {e}")
        raise
```

#### 2. å„é˜¶æ®µå®ç°

```python
# pipelines/main_data_pipeline.py:128-154
def fetch_external_data(self) -> dict:
    """è·å–å¤–éƒ¨æ•°æ®"""
    external_data_path = paths.EXTERNAL_DATA_DIR / 'shanxi_open_data.json'
    if os.path.exists(external_data_path):
        logger.info("å‘ç°å·²æœ‰å¤–éƒ¨æ•°æ®æ–‡ä»¶ï¼Œè·³è¿‡è·å–æ­¥éª¤")
        with open(external_data_path, 'r', encoding='utf-8') as f:
            return json.load(f)

    self.data_fetcher.fetch_all_data()
    return self.data_fetcher.fetched_data

def analyze_data_quality(self) -> dict:
    """åˆ†ææ•°æ®è´¨é‡"""
    quality_report = self.quality_enhancer.analyze_data_quality()

    report_path = paths.REPORTS_DIR / 'data_quality_report.json'
    with open(report_path, 'w', encoding='utf-8') as f:
        json.dump(quality_report, f, ensure_ascii=False, indent=2, default=str)

    return quality_report

def perform_geographic_mapping(self) -> dict:
    """æ‰§è¡Œåœ°ç†ä¿¡æ¯æ˜ å°„"""
    df = self.data_processor.load_data()
    enhanced_df = self.data_processor.create_geographic_enhanced_dataset()

    geo_path = paths.PROCESSED_DATA_DIR / 'geographic_enhanced_data.csv'
    self.data_processor.save_enhanced_dataset(enhanced_df, str(geo_path))

    geo_report = self.data_processor.generate_data_quality_report(enhanced_df)

    return {
        'enhanced_data_path': geo_path,
        'mapping_stats': geo_report,
        'base_station_mapping': self.data_processor.base_station_mapping
    }
```

#### 3. çŸ¥è¯†åº“æ„å»º

```python
# pipelines/main_data_pipeline.py:228-279
def build_knowledge_base(self) -> dict:
    """æ„å»ºæ™ºèƒ½ä½“çŸ¥è¯†åº“"""
    external_data = self.processing_results.get('external_data', {})
    enhanced_data_stats = self.processing_results.get('enhanced_data', {}).get('statistics', {})
    geo_mapping = self.processing_results.get('geographic_mapping', {})

    knowledge_base = {
        'metadata': {
            'created_at': datetime.now().isoformat(),
            'data_version': '1.0',
            'source': 'Shanxi Tourism Data Pipeline'
        },
        'scenic_knowledge': external_data.get('scenic_areas', {}),
        'transportation_knowledge': external_data.get('transportation', {}),
        'user_insights': {
            'total_users': enhanced_data_stats.get('unique_users', 0),
            'user_types': enhanced_data_stats.get('user_types', {}),
            'quality_distribution': {
                'high_quality': enhanced_data_stats.get('high_quality_records', 0),
                'total_records': enhanced_data_stats.get('total_records', 0),
                'avg_quality': enhanced_data_stats.get('avg_quality_score', 0)
            }
        },
        'spatial_knowledge': {
            'base_station_mapping': geo_mapping.get('base_station_mapping', {}),
            'geographic_coverage': enhanced_data_stats.get('geographic_coverage', 0)
        },
        'tourism_insights': self._generate_tourism_insights()
    }

    # ä¿å­˜çŸ¥è¯†åº“
    kb_path = paths.KNOWLEDGE_BASE_DIR / 'tourism_knowledge_base.json'
    with open(kb_path, 'w', encoding='utf-8') as f:
        json.dump(knowledge_base, f, ensure_ascii=False, indent=2, default=str)

    return knowledge_base
```

### æ ¸å¿ƒä»£ç ç¤ºä¾‹

```python
# pipelines/main_data_pipeline.py:490-524
def main():
    """ä¸»ç¨‹åºå…¥å£"""
    parser = argparse.ArgumentParser(description='å±±è¥¿æ–‡æ—…æ™ºèƒ½ä½“æ•°æ®å¤„ç†ç®¡é“')
    parser.add_argument('--config', type=str, help='é…ç½®æ–‡ä»¶è·¯å¾„')
    parser.add_argument('--skip-fetch', action='store_true', help='è·³è¿‡å¤–éƒ¨æ•°æ®è·å–')
    parser.add_argument('--skip-geo', action='store_true', help='è·³è¿‡åœ°ç†æ˜ å°„')
    parser.add_argument('--skip-quality', action='store_true', help='è·³è¿‡è´¨é‡åˆ†æ')
    parser.add_argument('--skip-enhance', action='store_true', help='è·³è¿‡æ•°æ®å¢å¼º')
    parser.add_argument('--skip-viz', action='store_true', help='è·³è¿‡å¯è§†åŒ–')

    args = parser.parse_args()

    # åˆ›å»ºé…ç½®
    config = {
        'enable_data_fetching': not args.skip_fetch,
        'enable_geographic_mapping': not args.skip_geo,
        'enable_quality_analysis': not args.skip_quality,
        'enable_data_enhancement': not args.skip_enhance,
        'enable_visualization': not args.skip_viz
    }

    # è¿è¡Œç®¡é“
    pipeline = ShanxiTourismDataPipeline(config)
    results = pipeline.run_full_pipeline()
```

---

## ğŸ¯ æ¼”ç¤ºè¯æœ¯

### å¼€åœºä»‹ç»ï¼ˆ30ç§’ï¼‰

```
"æˆ‘ä»¬è®¾è®¡äº†å®Œæ•´çš„å…­é˜¶æ®µæ•°æ®å¤„ç†ç®¡é“ã€‚

ä»åŸå§‹ä¿¡ä»¤æ•°æ®åˆ°æ™ºèƒ½ä½“çŸ¥è¯†åº“ï¼Œ
æ¯ä¸€æ­¥éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œ
ç¡®ä¿æ•°æ®è´¨é‡å’Œå¯ç”¨æ€§ã€‚"
```

### æ·±åº¦è®²è§£ï¼ˆ2åˆ†é’Ÿï¼‰

```
"å…­é˜¶æ®µæ•°æ®å¤„ç†ç®¡é“ï¼š

ç¬¬ä¸€é˜¶æ®µï¼šæ•°æ®è·å–
ä»æ”¿åºœå¼€æ”¾æ•°æ®æºè·å–æ™¯åŒºã€äº¤é€šç­‰å¤–éƒ¨æ•°æ®ï¼Œ
ä¸ä¿¡ä»¤æ•°æ®è¿›è¡Œèåˆã€‚

ç¬¬äºŒé˜¶æ®µï¼šè´¨é‡åˆ†æ
å¯¹æ•°æ®è¿›è¡Œå…¨é¢çš„è´¨é‡è¯„ä¼°ï¼Œ
ç”Ÿæˆè¯¦ç»†çš„è´¨é‡æŠ¥å‘Šã€‚

ç¬¬ä¸‰é˜¶æ®µï¼šåœ°ç†æ˜ å°„
è¿™æ˜¯æˆ‘ä»¬é¦–åˆ›çš„åŸºç«™åœ°ç†æ˜ å°„ç®—æ³•ï¼Œ
å°†åŸºç«™IDè½¬æ¢ä¸ºç»çº¬åº¦åæ ‡ã€‚

ç¬¬å››é˜¶æ®µï¼šæ•°æ®å¢å¼º
è¿›è¡Œç”¨æˆ·åˆ†ç±»ã€æ´»è·ƒåº¦è¯„åˆ†ã€è´¨é‡è¯„åˆ†ï¼Œ
ä¸ºæ¯æ¡æ•°æ®æ·»åŠ ä¸°å¯Œç‰¹å¾ã€‚

ç¬¬äº”é˜¶æ®µï¼šçŸ¥è¯†åº“æ„å»º
æ•´åˆæ‰€æœ‰å¤„ç†ç»“æœï¼Œ
ç”Ÿæˆæ™ºèƒ½ä½“å¯ç”¨çš„çŸ¥è¯†åº“ã€‚

ç¬¬å…­é˜¶æ®µï¼šæŠ¥å‘Šç”Ÿæˆ
ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šï¼Œ
å±•ç¤ºæ•°æ®åˆ†æç»“æœã€‚

æ¯ä¸ªé˜¶æ®µéƒ½å¯ä»¥ç‹¬ç«‹å¯ç”¨æˆ–ç¦ç”¨ï¼Œ
æ”¯æŒçµæ´»é…ç½®ã€‚
æ‰€æœ‰ä¸­é—´ç»“æœéƒ½ä¼šä¿å­˜ï¼Œ
ä¾¿äºè°ƒè¯•å’Œåˆ†æã€‚"
```

### æ¼”ç¤ºäº’åŠ¨ï¼ˆ1åˆ†é’Ÿï¼‰

```
ï¼ˆå±•ç¤ºæ•°æ®å¤„ç†æµç¨‹å›¾ï¼‰

"å„ä½è¯„å§”è¯·çœ‹ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„æ•°æ®å¤„ç†ç®¡é“ï¼š

è¾“å…¥æ˜¯67,487æ¡åŸå§‹ä¿¡ä»¤æ•°æ®ï¼Œ
ç»è¿‡å…­ä¸ªé˜¶æ®µçš„å¤„ç†ï¼Œ
æœ€ç»ˆè¾“å‡ºï¼š
- å¢å¼ºæ•°æ®é›†ï¼ˆCSVï¼‰
- æ™ºèƒ½ä½“çŸ¥è¯†åº“ï¼ˆJSONï¼‰
- åˆ†ææŠ¥å‘Šï¼ˆJSON+å¯è§†åŒ–ï¼‰

æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„è¾“å…¥è¾“å‡ºï¼Œ
å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç»„åˆè¿è¡Œã€‚

ä¾‹å¦‚ï¼Œå¦‚æœåªæƒ³æ›´æ–°çŸ¥è¯†åº“ï¼Œ
å¯ä»¥è·³è¿‡å‰é¢çš„å¤„ç†é˜¶æ®µï¼Œ
ç›´æ¥è¿è¡Œç¬¬äº”é˜¶æ®µã€‚

è¿™ç§è®¾è®¡è®©æ•°æ®å¤„ç†æ›´åŠ çµæ´»å¯æ§ã€‚"
```

### æ€»ç»“å¼ºè°ƒï¼ˆ30ç§’ï¼‰

```
"æ•°æ®å¤„ç†ç®¡é“çš„ä»·å€¼ï¼š

â‘  æµç¨‹è§„èŒƒï¼šå…­ä¸ªé˜¶æ®µï¼ŒèŒè´£æ¸…æ™°
â‘¡ å¯é…ç½®æ€§ï¼šçµæ´»æ§åˆ¶å„é˜¶æ®µ
â‘¢ å¯å¤ç°æ€§ï¼šæ¯æ¬¡è¿è¡Œç»“æœä¸€è‡´
â‘£ å¯æ‰©å±•æ€§ï¼šæ˜“äºæ·»åŠ æ–°é˜¶æ®µ

è¿™ä½“ç°äº†æ•°æ®å·¥ç¨‹çš„ä¸“ä¸šèƒ½åŠ›ï¼"
```

---

## ğŸ“Š å¯¹æ¯”ä¼˜åŠ¿

### ä¸ä¼ ç»Ÿå¤„ç†æ–¹å¼å¯¹æ¯”

| ç»´åº¦ | ä¼ ç»Ÿæ–¹å¼ | ç®¡é“åŒ–å¤„ç† |
|-----|---------|----------|
| æµç¨‹è§„èŒƒ | è„šæœ¬åˆ†æ•£ | ç»Ÿä¸€ç®¡é“ |
| å¯ç»´æŠ¤æ€§ | å·® | å¥½ |
| å¯æ‰©å±•æ€§ | å·® | å¥½ |
| ä¸­é—´ç»“æœ | ä¸ä¿å­˜ | å…¨éƒ¨ä¿å­˜ |

### å¤„ç†æ•ˆç‡å¯¹æ¯”

| é˜¶æ®µ | ä¼ ç»Ÿè€—æ—¶ | ç®¡é“è€—æ—¶ | ä¼˜åŒ– |
|-----|---------|---------|------|
| æ•°æ®è·å– | æ‰‹åŠ¨ | è‡ªåŠ¨ | 100% |
| åœ°ç†æ˜ å°„ | 2å°æ—¶ | 5åˆ†é’Ÿ | 96% |
| è´¨é‡åˆ†æ | æ‰‹åŠ¨ | è‡ªåŠ¨ | 100% |
| æŠ¥å‘Šç”Ÿæˆ | æ‰‹åŠ¨ | è‡ªåŠ¨ | 100% |

---

## ğŸš€ åº”ç”¨åœºæ™¯/æ‰©å±•æ€§

### åº”ç”¨åœºæ™¯

1. **ç¦»çº¿å¤„ç†**: å®šæœŸæ‰¹é‡å¤„ç†æ•°æ®
2. **å¢é‡å¤„ç†**: åªå¤„ç†æ–°å¢æ•°æ®
3. **è°ƒè¯•æ¨¡å¼**: å•ç‹¬è¿è¡ŒæŸä¸ªé˜¶æ®µ
4. **ç”Ÿäº§éƒ¨ç½²**: è‡ªåŠ¨åŒ–æ•°æ®å¤„ç†

### æ‰©å±•æ€§

å¯ä»¥æ·»åŠ æ–°çš„å¤„ç†é˜¶æ®µï¼š

```python
# æ·»åŠ æ–°é˜¶æ®µ
class ShanxiTourismDataPipeline:
    def run_full_pipeline(self) -> dict:
        # ... ç°æœ‰é˜¶æ®µ

        # æ–°å¢é˜¶æ®µï¼šæœºå™¨å­¦ä¹ é¢„æµ‹
        if self.config.get('enable_ml_prediction'):
            logger.info("\nğŸ¤– ç¬¬ä¸ƒé˜¶æ®µï¼šæœºå™¨å­¦ä¹ é¢„æµ‹...")
            predictions = self.predict_visitor_flow()
            self.processing_results['ml_predictions'] = predictions

        return self.processing_results
```

---

## ğŸ“ˆ æ•°æ®æµè½¬å›¾

```
åŸå§‹æ•°æ® (67,487æ¡)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤„ç†å™¨1: ShanxiDataProcessor           â”‚
â”‚  - load_data()                          â”‚
â”‚  - geographic_mapping_by_pattern()      â”‚
â”‚  - create_geographic_enhanced_dataset() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤„ç†å™¨2: DataQualityEnhancer           â”‚
â”‚  - analyze_data_quality()               â”‚
â”‚  - generate_enhanced_dataset()          â”‚
â”‚  - _classify_users()                    â”‚
â”‚  - _calculate_quality_scores()          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç®¡é“: ShanxiTourismDataPipeline        â”‚
â”‚  - fetch_external_data()                â”‚
â”‚  - analyze_data_quality()               â”‚
â”‚  - perform_geographic_mapping()         â”‚
â”‚  - enhance_data()                       â”‚
â”‚  - build_knowledge_base()               â”‚
â”‚  - generate_final_report()              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
è¾“å‡ºäº§ç‰©:
- final_enhanced_signals.csv
- tourism_knowledge_base.json
- final_pipeline_report.json
```

---

## ğŸ† æ€»ç»“

### æ ¸å¿ƒä»·å€¼

1. **å·¥ç¨‹èƒ½åŠ›**: â­â­â­â­â­
   - å®Œæ•´çš„æ•°æ®å·¥ç¨‹å®è·µ

2. **å¯ç»´æŠ¤æ€§**: â­â­â­â­â­
   - æ¸…æ™°çš„ç®¡é“æ¶æ„

3. **å¯æ‰©å±•æ€§**: â­â­â­â­â­
   - æ˜“äºæ·»åŠ æ–°é˜¶æ®µ

### æ¼”ç¤ºå»ºè®®

- **æœ€ä½³å±•ç¤ºä½ç½®**: æ•°æ®å¤„ç†è®²è§£
- **æ¼”ç¤ºæ—¶é•¿**: 1-2åˆ†é’Ÿ
- **å…³é”®è¯æœ¯**: "å…­é˜¶æ®µç®¡é“ï¼Œæ•°æ®å¤„ç†å®Œæ•´"
- **è§†è§‰å†²å‡»**: æµç¨‹å›¾ + é˜¶æ®µè¾“å‡º

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2026-01-02
**ä½œè€…**: å±±è¥¿æ–‡æ—…æ™ºèƒ½ä½“å›¢é˜Ÿ
